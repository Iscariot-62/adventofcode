#include <stdio.h>
#include <stdlib.h>
#include <string.h>

//L채uft das Muster nach der vorgegebenen Regel ab, und f채ngt wieder vorne an, wenn er hinten "rausf채llt"
void walk(int *pos, int values){
int temp=*pos;
temp+=3;
if(temp<=values){
    *pos = temp;
}
else{
*pos = temp-values;
}
}

int countTrees(){
int trees=0;
    int pos=-2; //l채uft bei walk() immer drei Schritte, auch beim ersten mal
    int values=31;
    char part[][31]={".#....#..##.#..####....#.......", "......#..#....#....###......#.#", "#..#.....#..............##.#.#.", "#.#...#....#...#......##..#..#.", "...#..#.##..#..#........###.#.#", "...#.#..........#.........##...", "...#.#....#.#....#..#......#...", "..##.#.....#.......#.###..#..##", "..#.......#.......#....##......", "....##........##.##...#.###.##.", "#.......#.......##..#......#...", "..##.............##.#......#...", "...#.####....#.....#...##......", ".............##.#......#.......", "..#...#....#......#....#.......", "..#....#..#............#.......", "##...#..#........##..#......#..", "##........##........#.#.......#", "#.......#........#.#..#....###.", ".....#..#.#..........##...#....", "..##...#......#.#...#..#...#...", "##.##...#......#....#....#...#.", "#.......#..#.#..#....#..###.#.#", "#.............#.#....#..#.#....", "...#.......###.#.##.##.#...#..#", ".##.......##..##...#..###......", ".......#.#.#.#..####..#..#..#..", "...##......#.#.##.###....#.###.", "###......###......#.#####..#...", "..#........##..#..##.##..#...#.", ".....##..#...#..#.##.....#.#...", "#......#.##....#..##.#....#.#..", "##.#.##..#................#....", "......#.#....#......##.....#...", "..#...##..#..#...#..#.#..#.....", "........#.#.#.##...#.#.....#.#.", "#.#......#.....##..#...#.......", "..#.#......#...........###.....", "......##....#....##..#..#.#.#.#", "##....#.###...#......#..#...#..", "#.#.##....###...####.......#..#", "##...........#.....#........#.#", ".##.#..#.....#......#.......#..", "##..##..###....#.........##....", "..#..#..#.##...#.#...#........#", "#.##.###...#.......#...........", ".........#.................#...", "#.##...#.....#..##........#....", "....#.#...##...#...........#...", ".#.....#.#..#...##..##.....#...", ".#.....####....#..##..#........", "...#..#......##.#..##.#.#.#..#.", ".##.#.....#.....#...#.......##.", "......#..#..#......#...####....", ".......#......##..#..##.....#..", "......#.#..#...#..#.#..........", "....##.........#...............", ".#....#..##.....#....##.##.....", "#.#.....#...#....####....#.#...", "#.....#....#.#...#.............", "...#..#.....#....##..#..#......", "...#.#............#...........#", "###.#..#.#......#.....##.....#.", "####....#....###.....#..#.#####", ".###..#...#.#..#......##.#.#.#.", ".....#.##.#....#..##....#..#..#", "...#....#...##.....#......#.#..", "....#...#....#...#....#.....#.#", ".#.....#.....#.#..#......#..#..", "..#..##....##.##....#.....##...", "#..##...#.##...#..#.#.#.....#..", "...#..##.#..#....#.#....######.", "..........#..#.....#....#...##.", "#.#####.#.###..#.....#.........", "#....#......#..#.#.##.##..###..", "..#...###.#.#....##.##...##....", ".......#....#..#...##......#...", "...#.#...#..#.....#..##.#......", "###..##...........#............", "..#....#.##....#.#..##...#.....", "##....#...#....#.....#.#..##...", "..............#.##.#..#..##.###", "......#..#..#..#.#....###...##.", ".#...#..#.#.#....#..........#..", "..#.#.....#..#...........#.##..", "...#.#......#......#..#..#.#...", "...#....#.#.#.....#...#.##..#..", ".#.#..#...#........##.......#..", "##..........#..#...#....###.#..", "#.....###......#..#.#.#....#.#.", "..###.......#.#...............#", "#....#.....#.#......#..##.##...", "#.##.#.#....#..#.#...#.#...#..#", "#....#..#...........#.......#..", "...#.####.....#.........###.##.", "......#..#.....#..........#..#.", "#...#.#..####...#...#.#.##...##", ".##.........#......#.#.#.......", ".......##...##.##....###...##..", "...#..#....#..#.#.#.....#.#....", "#....#.#.#.......##..###..##...", "......#............#.#...#..#..", "#.#.....#......#...#.......###.", "...#.#................#...#....", ".....#......#.#..#...##.#.#...#", "#....#.#..#..#..##..#.##..#....", "#.................#..#....#....", "..#....#.......####....###.....", ".#..#.#.#...###..#...#..###....", "..#..#.#......#.###..........#.", ".....#......#.......##....##.#.", ".#....#........#.#.##.#........", "#.#..##..#..#.#...####....##...", "...#....#.#..#...#..........#..", ".#.....#.##....#...##..........", "....##....#.....#.....#...#.###", ".#...##.#.#..##..#...#.#..#..#.", "..#.......#.##.....#.#........#", "...#...#.....##..#.#.#....#....", "...#.....#.......##.........#.#", ".##.....#..#.#...#.#...#.#...#.", "...........#...#.###..#...#..#.", "#.##........#..###.##...####...", ".#.....#.#...##...#..#..#...##.", "..#....#..#...#.....#.....##...", "..###..#.#.....##........#.##..", ".#.#..##........#.##....#..#.##", ".####.#..##..#.#..#....##....#.", ".##....##...#.#........#.......", "....#..#..#...#..#..#..#.#.....", "...#......................#....", "#.....#.#....#..#..#.#..#....#.", "##.....#.....##..........###...", ".#..#..............#...##.#.#.#", "...#...#.#.............#.#..#.#", "..#.....#.......#......#.#.....", ".###.#..#..#..#.#..#.....#.....", ".....##..##...##.......#....###", ".#........###...##..#....##....", "#....#.#......##..#....#.##..#.", "#....#.#...#........##...###...", ".#.....#...#.###....#.##.#.####", "###......#....#...#....##..#..#", "##....#..###......#...#.#.#....", "..........#......##.#..#.......", ".#..#......###.........##...#..", "....#......#....#.........#.#.#", "##.#.#...#.#...#...#..#......#.", "....#.##.........#..#.....##.#.", "........#...#..#.#.#.#.....##..", "..#......#.#.#..#.....##.......", "..............#....#....##.#..#", "....#.#.....#....#.#.###.#....#", "..#..........#..#......#.##..#.", "...#...#.#.............#..#....", "#.......#..#..##.........##..#.", "..##..#............#.....#.....", "....#.#..##...#.#..#.........#.", "........#.......#.##....#....#.", "...#.....#.#.....#.#....#......", "..#......##.#.............#.#.#", "#.#.............#.#.....#......", ".##....##.#.....#....#...##....", ".#.#....##....#.....##.........", "...#.....#.....#.....#..#.###..", ".......#....#...##.#...#...#..#", "..#.#.......#...###.#...#....#.", ".....###..##....###.#.##.......", "....#..................##.#.##.", ".#.......###.##...#.#.....#....", "....#....##...##.....#.#...#..#", "#..#.....#......##...#....#....", "#..##.........#.....#...#......", "...#..##.......##......#..#####", ".#..###.###.#.##........#......", ".#...#....#....#.#....#...##...", "##........#....#.........##..#.", ".#.....##............#.#.......", "....#....#...........###.....##", ".#......#.#.#..#....#.#.....##.", "......#.##.#..##....#.#.#..#...", "#....#......#...#..####........", "......#..#..##..#.......#.#..#.", "##....##.###.#...#.##.#..#.###.", ".#.........#...##...#.#......#.", "..#.#...........####.#....##.##", ".....#.#..##.#...###...#..#.#..", "...#..#..##.#...#.....#.##...##", "..##......##..........#..###...", ".#......##.....#.##....#.#.##.#", "...#.......##..##.....#....#...", ".##...#...#....#..#............", "#..#....#...........#..........", "......#...#.#.......#...#.##..#", "..#.###..#.....#.....#..#.....#", "....#....#..........##....#..#.", ".......##.#.#.#......#....#...#", "####..#.###........#..#......#.", "#........##.#.#.#.............#", ".#......#......#..#.##.....#...", ".....##.##......##.#.....#.#.#.", ".......##.#.....##.......#.#.#.", ".#.#..#.#..#.##...#.#....#.#..#", ".#..##....#..#...##.......#..#.", ".#.#..#.......#................", "#........#.#.#......#.#.#.#....", "##......#...#..##.#...##.##....", "##.#..#...........##...#..###..", "......#.####...#........#.#.#..", "...#........##..###.#.#...#...#", ".#.....##..#......##......###..", "..#.#...#......#..#..##.#.....#", "#....#..#.#..........#...#.....", ".#......#.##..###..#.#....#..##", ".......#.......#..#..#......#..", "..##.....##.#..#..#.....##.....", "........#.##...#.#.#..#..#..#..", "...#.######.........#.....#..##", ".#.#............#....#.........", "#...#....###.#......#.#........", "#.........#....#...##..........", "....#...........#.###.#...###..", ".........#........#.#.#..#...#.", ".#.......#.#.....#.#.....#.##..", ".....#.......#.....#.#.#.......", "#.##..#..##.......#...#......#.", ".###.....##...##.#...##.##.#.#.", "...#......##..##............#.#", "...#......................#..##", "#..#..#................#...#...", "#..#....#.#.#...##.......#..#..", "....#.#..###.##...#..#.###..#..", "..#...#....####.#............#.", "......#....#.#...#.#.#.........", "#...#........#.....##..###.#..#", "#....#...#...##...#..#....##...", "#..#...#..#.......#.#..##.#..#.", "#.#..........#...........##....", ".#...###...#......#.......#.#.#", ".........#.........#...#...##..", "##.#..###......##..#.....#..#..", "....##...............#.....#...", ".....#.....###.#.....#.#.......", "....#..#......###..#..##..#....", "......................#.....#..", "..#..#...##....##....#........#", "..#....#...#...#.......#.....#.", "...##.#.#.##......#.#.#.#.####.", ".###...#..#......#.#..#........", "#..#...##.#..#..##..##....#...#", "...#...#..#..#..#........#..##.", ".##....#.##.#....#...#.#.#....#", "#..#....#..#....#.......##..#.#", "...#.#....####...........#...#.", "#...#####...#.#..#......#...#.#", ".##....#.#.#..#......#..##.....", "..........#..#.#.#.....##......", ".....#....#..................#.", ".........#...#...#....#..###...", ".#.#.#....#....................", "......##............##.###..#..", "#.#...#........####.##..#.#.##.", "#........#.#.#.#..#.##.....#...", "......####..#.##.......#....#..", ".........#...#...#.....#.......", "..##.....#...#...#.....##.....#", "....#...##....#.....#..#..##.##", "..#.........##...##..###..#....", "#....#.#.........##.###.#...##.", ".##...#....#..#..#.#....##.....", "##..#..#..#...........#.##....#", "....#..........#...#..#.....#..", "........###..#..#.#.#.....##...", "#...#...#..###............###..", "..#.....#.#.#..#..#.#..#......#", "..#...##..#....#...#......#....", "#....#........##.....#..##....#", "#.....#.#.#..#.......##.#.#.##.", "..##...#...#.....#..........#..", "##.....#....#......#..........#", "......#..#..........#.#..####..", "......#...#............##...##.", "..#.......##.......#...###.###.", ".#..#.#.#...#..##.#......#.#...", ".##.....##.#.#...#.##.........#", "#.#.######...........#.#####.#.", "........#.##...##....##.#.##.#.", "....#......#.....#.....###...##", "#..............#.#....#.#....#.", "....#..###.#.........##.#.#....", "..#.#.#..##....####..........#.", "...#..#.......#................", "...#....#..............#....#..", ".....#...#...#....#.#.#..#...#.", "......##.............###.##..##", ".#...#.#..#......#..#.##.......", "##.....#.....#.##...#....#.....", "..#..#.#.#.#.#..........#..###.", "##..........#........#....#.#..", ".....#...#........#.#..###....#", ".###.#........#.##......#.#...#", "#...##....#....#....##.#.#.....", ".....#.#............#..........", "..#.##....................#....", ".....#..#..#.#..#.##.......#...", ".....###......#......##......##", "#.....#.#.......##.......#...#.", ".#.#...#......#..###...#.....#.", "#.#..#...#..##.....#...#.#..#..", ".....#.#..........#..#.........", ".###..##..##.....#...#...#..##.", "#...#.#....#.......##..#.......", "###...#.#.#..#.......#......#..", "....##........#..........##....", "............#....#...........#.", "#..#.#....##..#.#..#......##...", ".###....##...#....##..........#", ".###........#........###.....#.", "...#...#.#......#...#....#.....", ".###.......#.........#.........", "....##.#......#...###......##.#", ".###...#..##.....##.......#....", ".#.#...#..#.##....#........#...", "NULL"};

    //L채uft das Part Array nacheinander ab
    int arraySize = 0;
    while (strcmp(part[arraySize],"NULL")) {
    walk(&pos,values);
    if(part[arraySize][pos-1]=='#'){
        trees++;
    }
    arraySize++;
}
return trees;
}

int main(int argc , char *argv[])
{
    printf("Besuchte Baeume: %d",countTrees());
    return 0;
}
